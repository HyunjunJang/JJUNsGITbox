<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //클로저라는 개념 몰라도, 일단 사용하는데 큰 문제없음

        //렉시컬스코프 - 함수가 선언된 위치에 따라서 변수참조가 달라진다.

        //1ㄴㅅ
        var a = 1;
        function func1(){
            a = 10;
            console.log(a);
        }
        func1();

        console.log('------------------------------');
        var b =1;
        function func2(){
            var b = 100;
            func3();
        } //var b=100 은 스코프가 여기까지
        function func3(){
            console.log(b);
        }
        func2();
        console.log('------------------------------');
        var c = 1;
        function func4(){
            var c = 100;

            func5(); //따라서 func5 입장에서는 var c = 100 이 전역변수로 취급된다
            function func5(){
                console.log(c);
            }
        } //var c = 100 은 func4 마지막인 여기까지 스코프가 존재한다
        func4();
        /////////////////////////////////////////////////////
        console.log('------------------------------');
        //클로저를 활용해서 지역변수를 전역변수로 사용하도록 한다
        function aaa(){
            var a = 1; //aaa함수 내의 지역변수인 a는 밖에서 사용 불가능

            return function(){  //함수 내부에 함수를 선언하여 지역변수 a를 전역변수화 한다
                return a;       //이 함수의 입장에서 a는 전역변수로 생각된다
            }
        } //var a=1 의 스코프는 여기까지

        var f = aaa(); //변수 f 는 함수변수
        console.log(f); //f는 함수가 출력된다
        console.log(f()); //f함수를 출력한다
        console.log('------------------------------');
        ///////////////////////////////////////////////////////////
        function bbb(){
            var count = 0;
            return function(){
                return ++count;
            }
        }
        var ff = bbb(); //ff는 함수변수
        console.log(ff);
        console.log(ff());
        console.log(ff());
        console.log(ff());
        
    </script>
</body>
</html>