<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
</head>
<body>

   <script>
      //es6문법 - promise() 객체 뜯어보기
      //생성자 fun ( (fun, fun) )
      let promise = new Promise( (resolve, reject) => {  //함수(resolve, reject) 두개가 들어감
         //성공하면 resolve() 호출
         //실패하면 reject()  호출
         // resolve("success!")
         // reject( new Error("error발생"))

         //어떤 작업을 하는데 3초가 걸림
         setTimeout( () => {
            resolve("success!")
         }, 3000)
      })

      //promise 패턴 -> 
      promise.then( (data) => {
         console.log(data);
      }).catch( e => console.log(e) )

      //promise 패턴 체인 - return에 실어주면 계속해서 then절로 받을 수 있다
      promise
      .then( (data) => data + 1 )
      .then( (data) => data + 1 )
      .then( (data) => data + 1 )
      .then( (data) => data + 1 )
      .then( (data) => console.log(data))
   </script>
   
</body>
</html>